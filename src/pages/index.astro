---
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/blog/PostCard.astro';
import { getFeaturedPosts } from '../utils/blog';
import minBg from '../assets/min-bg.jpg';

const featuredPosts = await getFeaturedPosts();
---

<Layout title="Home | Taige's Blog">
  <!-- Hero Section with Background Image -->
  <section class="pt-20 pb-30 px-6 relative" style="min-height: 600px;">
    <!-- Background Image -->
    <div class="absolute inset-0 z-0">
      <img
        src={minBg.src}
        alt="Hero background"
        class="w-full h-full object-cover"
      />
    </div>
    
    <!-- Intro Text -->
    <div class="max-w-2xl relative z-10">
      <h1 class="text-3xl md:text-5xl font-bold mb-4 text-black drop-shadow-lg">
        Hello, I'm Taige Zhang
      </h1>
      <p class="text-base md:text-lg text-black mb-6 drop-shadow-md">
        A software developer, an AI enthusiast, and a thinker.
      </p>

    </div>
  </section>

  <!-- Featured Posts -->
  {featuredPosts.length > 0 && (
    <section class="pb-16 px-6" style="background-color: #fefffa;">
      <hr class="border-t border-gray-300 mb-8 mt-8" />
      <h2 class="text-3xl font-bold mb-6 text-gray-900">My highlighted thoughts</h2>
      <div class="flex flex-col md:flex-row gap-4">
        {featuredPosts.map(post => (
          <div class="flex-1">
            <PostCard post={post} />
          </div>
        ))}
      </div>
    </section>
  )}
</Layout>
