---
import Layout from '../../layouts/Layout.astro';
import { getBlogPosts } from '../../utils/blog';
import type { BlogPost } from '../../utils/blog';

// Get all blog posts
const posts = await getBlogPosts();
---

<Layout title="Blog | Taige's Blog">
  <section class="py-16 px-6 max-w-6xl mx-auto">
    <div class="space-y-12">
      {posts.map((post: BlogPost) => (
        <div class="flex flex-col md:flex-row gap-4 md:gap-12 group">
          <!-- Date -->
          <div class="md:w-48 flex-shrink-0 pt-1">
            <time class="text-gray-500 font-medium">
              {post.date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
              })}
            </time>
          </div>

          <!-- Content -->
          <div class="flex-1 border-l border-gray-200 pl-8 pb-4">
            <h2 class="text-xl font-bold text-gray-900 mb-3">
              {post.title}
            </h2>
            <p class="text-gray-600 mb-4 leading-relaxed">
              {post.description}
            </p>
            <a
              href={`/blogs/${post.slug}`}
              class="text-orange-500 font-medium hover:text-orange-600 inline-flex items-center gap-1 transition-colors"
            >
              Read blog
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
              </svg>
            </a>
          </div>
        </div>
      ))}
    </div>
  </section>
</Layout>