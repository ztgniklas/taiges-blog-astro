---
interface Props {
  post: {
    title: string;
    description: string;
    pubDate: Date;
    heroImage?: string;
    category: string;
    tags: string[];
    author: string;
    slug: string;
  };
}

const { post } = Astro.props;

// Format date
const formattedDate = new Intl.DateTimeFormat('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
}).format(post.pubDate);
---

<article class="group relative overflow-hidden rounded-lg bg-black/30 backdrop-blur-lg border border-white/10 transition-all hover:border-pink-500/50">
  <!-- Hero Image -->
  {post.heroImage && (
    <div class="relative h-48 overflow-hidden">
      <img
        src={post.heroImage}
        alt={post.title}
        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent" />
    </div>
  )}

  <!-- Content -->
  <div class="p-6">
    <!-- Category -->
    <span class="inline-block px-3 py-1 text-xs font-semibold text-pink-400 bg-pink-400/10 rounded-full mb-4">
      {post.category}
    </span>

    <!-- Title -->
    <h3 class="text-xl font-bold mb-2">
      <a
        href={`/blogs/${post.slug}`}
        class="text-white hover:text-pink-400 transition-colors"
      >
        {post.title}
      </a>
    </h3>

    <!-- Description -->
    <p class="text-gray-300 text-sm mb-4 line-clamp-2">
      {post.description}
    </p>

    <!-- Meta -->
    <div class="flex items-center justify-between text-sm text-gray-400">
      <div class="flex items-center space-x-4">
        <span class="flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4 mr-1"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
            />
          </svg>
          {formattedDate}
        </span>
        <span class="flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4 mr-1"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
            />
          </svg>
          {post.author}
        </span>
      </div>

      <!-- Read More -->
      <a
        href={`/blogs/${post.slug}`}
        class="text-pink-400 hover:text-pink-300 transition-colors"
      >
        Read more â†’
      </a>
    </div>

    <!-- Tags -->
    {post.tags.length > 0 && (
      <div class="mt-4 flex flex-wrap gap-2">
        {post.tags.map(tag => (
          <span class="text-xs text-gray-400 bg-white/5 px-2 py-1 rounded">
            #{tag}
          </span>
        ))}
      </div>
    )}
  </div>
</article> 